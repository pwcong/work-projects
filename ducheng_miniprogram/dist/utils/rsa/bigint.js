"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function setMaxDigits(i){maxDigits=i,ZERO_ARRAY=new Array(maxDigits);for(var t=0;t<ZERO_ARRAY.length;t++)ZERO_ARRAY[t]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function biFromNumber(i){var t=new BigInt;t.isNeg=i<0,i=Math.abs(i);for(var e=0;i>0;)t.digits[e++]=i&maxDigitVal,i>>=biRadixBits;return t}function biFromDecimal(i){for(var t,e="-"==i.charAt(0),r=e?1:0;r<i.length&&"0"==i.charAt(r);)++r;if(r==i.length)t=new BigInt;else{var g=i.length-r,s=g%dpl10;for(0==s&&(s=dpl10),t=biFromNumber(Number(i.substr(r,s))),r+=s;r<i.length;)t=biAdd(biMultiply(t,lr10),biFromNumber(Number(i.substr(r,dpl10)))),r+=dpl10;t.isNeg=e}return t}function biCopy(i){var t=new BigInt(!0);return t.digits=i.digits.slice(0),t.isNeg=i.isNeg,t}function reverseStr(i){for(var t="",e=i.length-1;e>-1;--e)t+=i.charAt(e);return t}function biToString(i,t){var e=new BigInt;e.digits[0]=t;for(var r=biDivideModulo(i,e),g=hexatrigesimalToChar[r[1].digits[0]];1==biCompare(r[0],bigZero);)r=biDivideModulo(r[0],e),digit=r[1].digits[0],g+=hexatrigesimalToChar[r[1].digits[0]];return(i.isNeg?"-":"")+reverseStr(g)}function biToDecimal(i){var t=new BigInt;t.digits[0]=10;for(var e=biDivideModulo(i,t),r=String(e[1].digits[0]);1==biCompare(e[0],bigZero);)e=biDivideModulo(e[0],t),r+=String(e[1].digits[0]);return(i.isNeg?"-":"")+reverseStr(r)}function digitToHex(t){var e="";for(i=0;i<4;++i)e+=hexToChar[15&t],t>>>=4;return reverseStr(e)}function biToHex(i){for(var t="",e=(biHighIndex(i),biHighIndex(i));e>-1;--e)t+=digitToHex(i.digits[e]);return t}function charToHex(i){return i>=48&&i<=57?i-48:i>=65&&i<=90?10+i-65:i>=97&&i<=122?10+i-97:0}function hexToDigit(i){for(var t=0,e=Math.min(i.length,4),r=0;r<e;++r)t<<=4,t|=charToHex(i.charCodeAt(r));return t}function biFromHex(i){for(var t=new BigInt,e=i.length,r=e,g=0;r>0;r-=4,++g)t.digits[g]=hexToDigit(i.substr(Math.max(r-4,0),Math.min(r,4)));return t}function biFromString(i,t){var e="-"==i.charAt(0),r=e?1:0,g=new BigInt,s=new BigInt;s.digits[0]=1;for(var o=i.length-1;o>=r;o--){g=biAdd(g,biMultiplyDigit(s,charToHex(i.charCodeAt(o)))),s=biMultiplyDigit(s,t)}return g.isNeg=e,g}function biToBytes(i){for(var t="",e=biHighIndex(i);e>-1;--e)t+=digitToBytes(i.digits[e]);return t}function digitToBytes(i){var t=String.fromCharCode(255&i);return i>>>=8,String.fromCharCode(255&i)+t}function biDump(i){return(i.isNeg?"-":"")+i.digits.join(" ")}function biAdd(i,t){var e;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,e=biSubtract(i,t),t.isNeg=!t.isNeg;else{e=new BigInt;for(var r,g=0,s=0;s<i.digits.length;++s)r=i.digits[s]+t.digits[s]+g,e.digits[s]=65535&r,g=Number(r>=biRadix);e.isNeg=i.isNeg}return e}function biSubtract(i,t){var e;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,e=biAdd(i,t),t.isNeg=!t.isNeg;else{e=new BigInt;var r,g;g=0;for(var s=0;s<i.digits.length;++s)r=i.digits[s]-t.digits[s]+g,e.digits[s]=65535&r,e.digits[s]<0&&(e.digits[s]+=biRadix),g=0-Number(r<0);if(-1==g){g=0;for(var s=0;s<i.digits.length;++s)r=0-e.digits[s]+g,e.digits[s]=65535&r,e.digits[s]<0&&(e.digits[s]+=biRadix),g=0-Number(r<0);e.isNeg=!i.isNeg}else e.isNeg=i.isNeg}return e}function biHighIndex(i){for(var t=i.digits.length-1;t>0&&0==i.digits[t];)--t;return t}function biNumBits(i){var t,e=biHighIndex(i),r=i.digits[e],g=(e+1)*bitsPerDigit;for(t=g;t>g-bitsPerDigit&&0==(32768&r);--t)r<<=1;return t}function biMultiply(i,t){for(var e,r,g,s=new BigInt,o=biHighIndex(i),n=biHighIndex(t),d=0;d<=n;++d){e=0,g=d;for(var b=0;b<=o;++b,++g)r=s.digits[g]+i.digits[b]*t.digits[d]+e,s.digits[g]=r&maxDigitVal,e=r>>>biRadixBits;s.digits[d+o+1]=e}return s.isNeg=i.isNeg!=t.isNeg,s}function biMultiplyDigit(i,t){var e,r,g,s=new BigInt;e=biHighIndex(i),r=0;for(var o=0;o<=e;++o)g=s.digits[o]+i.digits[o]*t+r,s.digits[o]=g&maxDigitVal,r=g>>>biRadixBits;return s.digits[1+e]=r,s}function arrayCopy(i,t,e,r,g){for(var s=Math.min(t+g,i.length),o=t,n=r;o<s;++o,++n)e[n]=i[o]}function biShiftLeft(i,t){var e=Math.floor(t/bitsPerDigit),r=new BigInt;arrayCopy(i.digits,0,r.digits,e,r.digits.length-e);for(var g=t%bitsPerDigit,s=bitsPerDigit-g,o=r.digits.length-1,n=o-1;o>0;--o,--n)r.digits[o]=r.digits[o]<<g&maxDigitVal|(r.digits[n]&highBitMasks[g])>>>s;return r.digits[0]=r.digits[o]<<g&maxDigitVal,r.isNeg=i.isNeg,r}function biShiftRight(i,t){var e=Math.floor(t/bitsPerDigit),r=new BigInt;arrayCopy(i.digits,e,r.digits,0,i.digits.length-e);for(var g=t%bitsPerDigit,s=bitsPerDigit-g,o=0,n=o+1;o<r.digits.length-1;++o,++n)r.digits[o]=r.digits[o]>>>g|(r.digits[n]&lowBitMasks[g])<<s;return r.digits[r.digits.length-1]>>>=g,r.isNeg=i.isNeg,r}function biMultiplyByRadixPower(i,t){var e=new BigInt;return arrayCopy(i.digits,0,e.digits,t,e.digits.length-t),e}function biDivideByRadixPower(i,t){var e=new BigInt;return arrayCopy(i.digits,t,e.digits,0,e.digits.length-t),e}function biModuloByRadixPower(i,t){var e=new BigInt;return arrayCopy(i.digits,0,e.digits,0,t),e}function biCompare(i,t){if(i.isNeg!=t.isNeg)return 1-2*Number(i.isNeg);for(var e=i.digits.length-1;e>=0;--e)if(i.digits[e]!=t.digits[e])return i.isNeg?1-2*Number(i.digits[e]>t.digits[e]):1-2*Number(i.digits[e]<t.digits[e]);return 0}function biDivideModulo(i,t){var e,r,g=biNumBits(i),s=biNumBits(t),o=t.isNeg;if(g<s)return i.isNeg?(e=biCopy(bigOne),e.isNeg=!t.isNeg,i.isNeg=!1,t.isNeg=!1,r=biSubtract(t,i),i.isNeg=!0,t.isNeg=o):(e=new BigInt,r=biCopy(i)),new Array(e,r);e=new BigInt,r=i;for(var n=Math.ceil(s/bitsPerDigit)-1,d=0;t.digits[n]<biHalfRadix;)t=biShiftLeft(t,1),++d,++s,n=Math.ceil(s/bitsPerDigit)-1;r=biShiftLeft(r,d),g+=d;for(var b=Math.ceil(g/bitsPerDigit)-1,a=biMultiplyByRadixPower(t,b-n);-1!=biCompare(r,a);)++e.digits[b-n],r=biSubtract(r,a);for(var u=b;u>n;--u){var l=u>=r.digits.length?0:r.digits[u],x=u-1>=r.digits.length?0:r.digits[u-1],f=u-2>=r.digits.length?0:r.digits[u-2],h=n>=t.digits.length?0:t.digits[n],p=n-1>=t.digits.length?0:t.digits[n-1];e.digits[u-n-1]=l==h?maxDigitVal:Math.floor((l*biRadix+x)/h);for(var c=e.digits[u-n-1]*(h*biRadix+p),v=l*biRadixSquared+(x*biRadix+f);c>v;)--e.digits[u-n-1],c=e.digits[u-n-1]*(h*biRadix|p),v=l*biRadix*biRadix+(x*biRadix+f);a=biMultiplyByRadixPower(t,u-n-1),r=biSubtract(r,biMultiplyDigit(a,e.digits[u-n-1])),r.isNeg&&(r=biAdd(r,a),--e.digits[u-n-1])}return r=biShiftRight(r,d),e.isNeg=i.isNeg!=o,i.isNeg&&(e=o?biAdd(e,bigOne):biSubtract(e,bigOne),t=biShiftRight(t,d),r=biSubtract(t,r)),0==r.digits[0]&&0==biHighIndex(r)&&(r.isNeg=!1),new Array(e,r)}function biDivide(i,t){return biDivideModulo(i,t)[0]}function biModulo(i,t){return biDivideModulo(i,t)[1]}function biMultiplyMod(i,t,e){return biModulo(biMultiply(i,t),e)}function biPow(i,t){for(var e=bigOne,r=i;;){if(0!=(1&t)&&(e=biMultiply(e,r)),0==(t>>=1))break;r=biMultiply(r,r)}return e}function biPowMod(i,t,e){for(var r=bigOne,g=i,s=t;;){if(0!=(1&s.digits[0])&&(r=biMultiplyMod(r,g,e)),s=biShiftRight(s,1),0==s.digits[0]&&0==biHighIndex(s))break;g=biMultiplyMod(g,g,e)}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMaxDigits=setMaxDigits,exports.biFromNumber=biFromNumber,exports.biFromDecimal=biFromDecimal,exports.biCopy=biCopy,exports.reverseStr=reverseStr,exports.biToString=biToString,exports.biToDecimal=biToDecimal,exports.digitToHex=digitToHex,exports.biToHex=biToHex,exports.charToHex=charToHex,exports.hexToDigit=hexToDigit,exports.biFromHex=biFromHex,exports.biFromString=biFromString,exports.biToBytes=biToBytes,exports.digitToBytes=digitToBytes,exports.biDump=biDump,exports.biAdd=biAdd,exports.biSubtract=biSubtract,exports.biHighIndex=biHighIndex,exports.biNumBits=biNumBits,exports.biMultiply=biMultiply,exports.biMultiplyDigit=biMultiplyDigit,exports.arrayCopy=arrayCopy,exports.biShiftLeft=biShiftLeft,exports.biShiftRight=biShiftRight,exports.biMultiplyByRadixPower=biMultiplyByRadixPower,exports.biDivideByRadixPower=biDivideByRadixPower,exports.biModuloByRadixPower=biModuloByRadixPower,exports.biCompare=biCompare,exports.biDivideModulo=biDivideModulo,exports.biDivide=biDivide,exports.biModulo=biModulo,exports.biMultiplyMod=biMultiplyMod,exports.biPow=biPow,exports.biPowMod=biPowMod;var biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998,BigInt=exports.BigInt=function i(t){_classCallCheck(this,i),this.digits="boolean"==typeof t&&1==t?null:ZERO_ARRAY.slice(0),this.isNeg=!1},maxDigits,ZERO_ARRAY,bigZero,bigOne;setMaxDigits(262);var dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);