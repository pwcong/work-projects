!function(){var e="http://www.ppfix.cn/piano_rank",n={auth:{url:function(){return e+"/api/wx/authUrl?redirectUri="+window.location.href},method:"GET"},userInfo:{url:function(){return e+"/api/user/info"},method:"GET",headers:function(e){return{sessionId:e}}},modifyUserInfo:{url:function(n,o){return n=n||"",o=o||"",e+"/api/user/update?nickname="+n+"&gender="+o},method:"GET",headers:function(e){return{sessionId:e}}},uploadRecord:{url:function(n,o,r){return n=n||0,o=o||"",r=r||"",e+"/api/user/record/upload?record="+n},method:"GET",headers:function(e){return{sessionId:e}}},dayRanking:{url:function(){return e+"/api/rank/day"},method:"GET",headers:function(e){return{sessionId:e}}},allRecords:{url:function(n){return n=n||"",e+"/api/user/record/all?year="+n},method:"GET",headers:function(e){return{sessionId:e}}}};window.API||(window.API={}),window.API.getSessionId=function(e,o,r){$.ajax({url:n.auth.url(),method:n.auth.method,success:function(n){e&&e(n)},error:function(e){o&&o(e)},complete:function(e){r&&r()}})},window.API.getUserInfo=function(e,o,r,u){$.ajax({url:n.userInfo.url(),method:n.userInfo.method,headers:n.userInfo.headers(e),success:function(e){o&&o(e)},error:function(e){r&&r(e)},complete:function(e){u&&u()}})},window.API.uploadRecord=function(e,o,r,u,t,d,i){$.ajax({url:n.uploadRecord.url(o,r,u),method:n.uploadRecord.method,headers:n.uploadRecord.headers(e),success:function(e){t&&t(e)},error:function(e){d&&d(e)},complete:function(e){i&&i()}})},window.API.modifyUserInfo=function(e,o,r,u,t,d){$.ajax({url:n.modifyUserInfo.url(o,r),method:n.modifyUserInfo.method,headers:n.modifyUserInfo.headers(e),success:function(e){u&&u(e)},error:function(e){t&&t(e)},complete:function(e){d&&d()}})},window.API.getAllRecords=function(e,o,r,u,t){$.ajax({url:n.allRecords.url(o),method:n.allRecords.method,headers:n.allRecords.headers(e),success:function(e){r&&r(e)},error:function(e){u&&u(e)},complete:function(e){t&&t()}})},window.API.getDayRanking=function(e,o,r,u){$.ajax({url:n.dayRanking.url(),method:n.dayRanking.method,headers:n.dayRanking.headers(e),success:function(e){o&&o(e)},error:function(e){r&&r(e)},complete:function(e){u&&u()}})}}();