{"version":3,"sources":["share.js"],"names":["RankingItem","ranking","avatar","name","sex","score","this","media","prototype","makeHTML","rankingItemDIV","document","createElement","className","innerHTML","$","ready","attr","utils","getUrlParam","show","html","addClass","API","getAllRecordsRank","data","code","result","list","forEach","item","index","rankingItem","avater","nickname","gender","record","before","err","getAllDaysRank","insistDay","click","removeClass"],"mappings":"AAAA,SAASA,YAAYC,EAASC,EAAQC,EAAMC,EAAKC,GAC7CC,KAAKL,QAAUA,EACfK,KAAKC,MAAmB,GAAXN,EAAe,YAA0B,GAAXA,EAAe,cAA4B,GAAXA,EAAe,cAAgB,aAC1GK,KAAKJ,OAASA,GAAU,kBACxBI,KAAKH,KAAOA,GAAQ,IACpBG,KAAKF,IAAa,GAAPA,EAAW,cAAwB,GAAPA,EAAW,YAAc,GAChEE,KAAKD,MAAQA,GAAS,EAG1BL,YAAYQ,UAAUC,SAAW,WAE7B,IAAIC,EAAiBC,SAASC,cAAc,OAmB5C,OAlBAF,EAAeG,UAAY,OAE3BH,EAAeI,UAAY,iEAISR,KAAKC,MAAQ,MAAQD,KAAKL,QAAU,EAAIK,KAAKL,QAAU,IAAM,+CAE5DK,KAAKJ,OAAS,iDAEpBI,KAAKH,KAAO,4CAETG,KAAKF,IAAM,qDAIlBE,KAAKD,MAAQ,SAEjCK,GA4CXK,EAAEJ,UAAUK,MAAM,WAOd,OAJAD,EAAE,WAAWE,KAAK,MAAOC,MAAMC,YAAY,MAAQ,mBACnDJ,EAAE,WAAWK,OACbL,EAAE,SAASM,KAAKH,MAAMC,YAAY,MAAQ,KAElCD,MAAMC,YAAY,MACtB,IAAK,IACDJ,EAAE,QAAQO,SAAS,aACnB,MACJ,IAAK,IAEDP,EAAE,QAAQO,SAAS,eAM3BP,EAAE,iBAAiBM,KAAKH,MAAMC,YAAY,OAAS,GACnDJ,EAAE,aAAaM,KAAKH,MAAMC,YAAY,MAAQ,GAG9CI,IAAIC,kBACA,SAAUC,GAEW,WAAbA,EAAKC,MAAsBD,EAAKE,QAAWF,EAAKE,OAAOC,MAI3DH,EAAKE,OAAOC,KAAKC,QAAQ,SAAUC,EAAMC,GAErC,IAAIC,EAAc,IAAIhC,YAAY+B,EAAQ,EAAGD,EAAKG,OAAQH,EAAKI,SAAUJ,EAAKK,OAAQL,EAAKM,QAE3FrB,EAAE,sBAAsBsB,OAAOL,EAAYvB,eAKnD,SAAU6B,KAGV,SAAUb,MAMdF,IAAIgB,eACA,SAAUd,GAEW,WAAbA,EAAKC,MAAsBD,EAAKE,QAAWF,EAAKE,OAAOC,MAI3DH,EAAKE,OAAOC,KAAKC,QAAQ,SAAUC,EAAMC,GAErC,IAAIC,EAAc,IAAIhC,YAAY+B,EAAQ,EAAGD,EAAKG,OAAQH,EAAKI,SAAUJ,EAAKK,OAAQL,EAAKU,WAE3FzB,EAAE,qBAAqBsB,OAAOL,EAAYvB,eAKlD,SAAU6B,KAGV,SAAUb,QAYlBV,EAAEJ,UAAUK,MAAM,WAGdD,EAAE,oBAAoB0B,MAAM,WAExB1B,EAAET,MAAMgB,SAAS,UACjBP,EAAE,mBAAmB2B,YAAY,UAEjC3B,EAAE,gBAAgB2B,YAAY,QAC9B3B,EAAE,eAAeO,SAAS,UAK9BP,EAAE,mBAAmB0B,MAAM,WAEvB1B,EAAET,MAAMgB,SAAS,UACjBP,EAAE,oBAAoB2B,YAAY,UAElC3B,EAAE,eAAe2B,YAAY,QAC7B3B,EAAE,gBAAgBO,SAAS","file":"share.js","sourcesContent":["function RankingItem(ranking, avatar, name, sex, score) {\r\n    this.ranking = ranking;\r\n    this.media = ranking == 1 ? 'icon-gold' : (ranking == 2 ? 'icon-silver' : (ranking == 3 ? 'icon-copper' : 'icon-medal'));\r\n    this.avatar = avatar || 'imgs/avatar.png';\r\n    this.name = name || '-';\r\n    this.sex = sex == 2 ? 'icon-female' : (sex == 1 ? 'icon-male' : '');\r\n    this.score = score || 0;\r\n}\r\n\r\nRankingItem.prototype.makeHTML = function () {\r\n\r\n    var rankingItemDIV = document.createElement('div');\r\n    rankingItemDIV.className = 'item';\r\n\r\n    rankingItemDIV.innerHTML = '\\\r\n        <div class=\"left\">\\\r\n            <span class=\"medal icon ' + this.media + '\">' + (this.ranking > 3 ? this.ranking : '') + '</span>\\\r\n            <img class=\"avatar\" src=\"' + this.avatar + '\" alt=\"avatar\">\\\r\n            <span class=\"name\">' + this.name + '</span>\\\r\n            <span class=\"sex icon ' + this.sex + '\"></span>\\\r\n        </div>\\\r\n        <div class=\"right\">' + this.score + '</div>';\r\n\r\n    return rankingItemDIV;\r\n\r\n}\r\n\r\n// 校验计时器状态\r\n// $(document).ready(function () {\r\n\r\n//     if (window.localStorage.sessionId && window.localStorage.timerFlag == 'true') {\r\n\r\n//         var hours = parseInt(window.localStorage.hours || 0);\r\n//         var minutes = parseInt(window.localStorage.minutes || 0);\r\n//         var seconds = parseInt(window.localStorage.seconds || 0);\r\n\r\n//         setInterval(function () {\r\n\r\n//             seconds++;\r\n\r\n//             if (seconds >= 60) {\r\n//                 seconds = 0;\r\n//                 minutes++;\r\n//             }\r\n\r\n//             if (minutes >= 60) {\r\n//                 minutes = 0;\r\n//                 hours++;\r\n//             }\r\n\r\n//             if (hours >= 24) {\r\n//                 hours = 0;\r\n//             }\r\n\r\n//             window.localStorage.hours = hours;\r\n//             window.localStorage.minutes = minutes;\r\n//             window.localStorage.seconds = seconds;\r\n\r\n//         }, 1000);\r\n\r\n//     }\r\n\r\n\r\n// });\r\n\r\n\r\n// 初始化信息\r\n$(document).ready(function () {\r\n\r\n\r\n    $('#avatar').attr('src', utils.getUrlParam('a') || 'imgs/avatar.png');\r\n    $('#avatar').show();\r\n    $('#name').html(utils.getUrlParam('n') || '-');\r\n\r\n    switch (utils.getUrlParam('s')) {\r\n        case '1':\r\n            $('#sex').addClass('icon-male');\r\n            break;\r\n        case '2':\r\n\r\n            $('#sex').addClass('icon-female');\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    $('#practiceTime').html(utils.getUrlParam('ar') || 0);\r\n    $('#duration').html(utils.getUrlParam('i') || 0);\r\n\r\n\r\n    API.getAllRecordsRank(\r\n        function (data) {\r\n\r\n            if (data.code != 'SUCCESS' || !data.result || !data.result.list) {\r\n                return;\r\n            }\r\n\r\n            data.result.list.forEach(function (item, index) {\r\n\r\n                var rankingItem = new RankingItem(index + 1, item.avater, item.nickname, item.gender, item.record);\r\n\r\n                $('#timeRanking .tips').before(rankingItem.makeHTML());\r\n            });\r\n\r\n\r\n        },\r\n        function (err) {\r\n\r\n        },\r\n        function (data) {\r\n\r\n        }\r\n\r\n    );\r\n\r\n    API.getAllDaysRank(\r\n        function (data) {\r\n\r\n            if (data.code != 'SUCCESS' || !data.result || !data.result.list) {\r\n                return;\r\n            }\r\n\r\n            data.result.list.forEach(function (item, index) {\r\n\r\n                var rankingItem = new RankingItem(index + 1, item.avater, item.nickname, item.gender, item.insistDay);\r\n\r\n                $('#dayRanking .tips').before(rankingItem.makeHTML());\r\n            });\r\n\r\n\r\n        },\r\n        function (err) {\r\n\r\n        },\r\n        function (data) {\r\n\r\n        }\r\n\r\n    );\r\n\r\n\r\n\r\n\r\n});\r\n\r\n// 初始化排行榜navbar\r\n$(document).ready(function () {\r\n\r\n\r\n    $('#showTimeRanking').click(function () {\r\n\r\n        $(this).addClass('active');\r\n        $('#showDayRanking').removeClass('active');\r\n\r\n        $('#timeRanking').removeClass('hide');\r\n        $('#dayRanking').addClass('hide');\r\n\r\n\r\n    });\r\n\r\n    $('#showDayRanking').click(function () {\r\n\r\n        $(this).addClass('active');\r\n        $('#showTimeRanking').removeClass('active');\r\n\r\n        $('#dayRanking').removeClass('hide');\r\n        $('#timeRanking').addClass('hide');\r\n    });\r\n\r\n});"]}