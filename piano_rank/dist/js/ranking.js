function RankingItem(e,a,n,i,s){this.ranking=e,this.media=1==e?"icon-gold":2==e?"icon-silver":3==e?"icon-copper":"icon-medal",this.avatar=a||"imgs/avatar.png",this.name=n||"-",this.sex=2==i?"icon-female":1==i?"icon-male":"",this.score=s||"-"}function initUserInfo(){$.ajax({url:API.userInfo.url(),method:API.userInfo.method,headers:API.userInfo.headers(),success:function(e){"SUCCESS"==e.code&&e.result&&($("#avatar").attr("src",e.result.avater||"imgs/avatar.png"),$("#avatar").removeClass("hide"),$("#name").html(e.result.nickname),$("#sex").addClass(1==e.result.gender?"icon-male":2==e.result.gender?"icon-female":""))},error:function(e){},complete:function(e){}})}function initRecords(e){e||(e=""),$.ajax({url:API.allRecords.url(e),method:API.allRecords.method,headers:API.allRecords.headers(),success:function(e){if("SUCCESS"==e.code&&e.result){var a=0;e.result.forEach(function(e,n){a+=e.record}),$("#practiceTime").html(a)}},error:function(e){},complete:function(e){}})}function initDayRanking(){$.ajax({url:API.dayRanking.url(),method:API.dayRanking.method,headers:API.dayRanking.headers(),success:function(e){"SUCCESS"==e.code&&e.result&&e.result.list&&e.result.list.forEach(function(e,a){var n=new RankingItem(a+1,e.avater,e.nickname,e.gender,e.record);$("#timeRanking .tips").before(n.makeHTML())})},error:function(e){},complete:function(e){}})}RankingItem.prototype.makeHTML=function(){var e=document.createElement("div");return e.className="item",e.innerHTML='        <div class="left">            <span class="medal icon '+this.media+'">'+(this.ranking>3?this.ranking:"")+'</span>            <img class="avatar" src="'+this.avatar+'" alt="avatar">            <span class="name">'+this.name+'</span>            <span class="sex icon '+this.sex+'"></span>        </div>        <div class="right">'+this.score+"</div>",e},$(document).ready(function(){window.localStorage.sessionId&&(initUserInfo(),initRecords(),initDayRanking())}),$(document).ready(function(){$("#showTimeRanking").click(function(){$(this).addClass("active"),$("#showDayRanking").removeClass("active"),$("#timeRanking").removeClass("hide"),$("#dayRanking").addClass("hide")}),$("#showDayRanking").click(function(){$(this).addClass("active"),$("#showTimeRanking").removeClass("active"),$("#dayRanking").removeClass("hide"),$("#timeRanking").addClass("hide")})});