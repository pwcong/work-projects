{"version":3,"sources":["index.js"],"names":["window","localStorage","sessionId","location","href","$","document","ready","click","ctx","this","val","html","attr","API","getSessionId","data","err","weui","dialog","className","removeAttr","alert"],"mappings":"CAEC,WAIUA,OAAOC,aAAaC,YAEnBF,OAAOG,SAASC,KAAO,qDANlC,GAiBDC,EAAEC,UAAUC,MAAM,WAEdF,EAAE,cAAcG,MAAM,WAElB,IAAIC,EAAMJ,EAAEK,MAII,WAFDL,EAAE,kBAAkBM,OASnCF,EAAIG,KAAK,OACTH,EAAII,KAAK,WAAY,YAErBC,IAAIC,aACA,qDAGA,SAAUC,GACNhB,OAAOG,SAASC,KAAOY,GAE3B,SAAUC,GACNC,KAAKC,OAAO,SACRC,UAAW,YAGnB,SAAUJ,GACNP,EAAIG,KAAK,MACTH,EAAIY,WAAW,eAvBnBH,KAAKI,MAAM,SACPF,UAAW","file":"index.js","sourcesContent":["// 提交表单\r\n\r\n;(function(){\r\n\r\n    function init(){\r\n\r\n        if(window.localStorage.sessionId){\r\n            // window.location.href = 'http://localhost:3000/home.html';\r\n            window.location.href = 'http://www.ppfix.cn/activity/piano_rank/home.html';\r\n        }\r\n\r\n    }\r\n\r\n    init();\r\n\r\n\r\n})();\r\n\r\n\r\n$(document).ready(function () {\r\n\r\n    $('#btnSubmit').click(function () {\r\n\r\n        var ctx = $(this);\r\n\r\n        var password = $('#inputPassword').val();\r\n\r\n        if (password != 'xiaowen') {\r\n            weui.alert('密码错误！', {\r\n                className: 'dialog'\r\n            });\r\n            return;\r\n        }\r\n\r\n        ctx.html('登陆中');\r\n        ctx.attr('disabled', 'disabled');\r\n\r\n        API.getSessionId(\r\n            'http://www.ppfix.cn/activity/piano_rank/enter.html',\r\n            // window.location.href,\r\n            // 'http://localhost:3000/home.html',\r\n            function (data) {\r\n                window.location.href = data;\r\n            },\r\n            function (err) {\r\n                weui.dialog('登陆成功！', {\r\n                    className: 'dialog'\r\n                });\r\n            },\r\n            function (data) {\r\n                ctx.html('登陆');\r\n                ctx.removeAttr('disabled');\r\n            }\r\n        );\r\n\r\n\r\n    });\r\n\r\n\r\n});"]}