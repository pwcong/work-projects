{"version":3,"sources":["record.js"],"names":["$","document","ready","window","localStorage","sessionId","API","getUserInfo","data","code","result","attr","avater","removeClass","html","nickname","addClass","gender","record","insistDay","err","calendarWidth","innerWidth","calendarHeight","calendar","width","height","onSelected","view","date","weui","alert","className"],"mappings":"AACAA,EAAEC,UAAUC,MAAM,WAETC,OAAOC,aAAaC,WAIzBC,IAAIC,YACAJ,OAAOC,aAAaC,UACpB,SAAUG,GAEW,WAAbA,EAAKC,MAAsBD,EAAKE,SAIpCV,EAAE,WAAWW,KAAK,MAAOH,EAAKE,OAAOE,QAAU,mBAC/CZ,EAAE,WAAWa,YAAY,QACzBb,EAAE,SAASc,KAAKN,EAAKE,OAAOK,UAC5Bf,EAAE,QAAQgB,SAA+B,GAAtBR,EAAKE,OAAOO,OAAc,YAAqC,GAAtBT,EAAKE,OAAOO,OAAc,cAAgB,IACtGjB,EAAE,iBAAiBc,KAAKN,EAAKE,OAAOQ,QACpClB,EAAE,aAAac,KAAKN,EAAKE,OAAOS,aAEpC,SAAUC,KAGV,SAAUZ,QA8ClBR,EAAEC,UAAUC,MAAM,WAGd,IAAImB,EAAgBrB,EAAE,gBAAgBsB,aAClCC,EAAiC,IAAhBF,EAErBrB,EAAE,aAAawB,UACXC,MAAOJ,EACPK,OAAQH,EAKRI,WAAY,SAAUC,EAAMC,EAAMrB,GAEzBA,GAILsB,KAAKC,MAAMvB,GACPwB,UAAW","file":"record.js","sourcesContent":["// 初始化信息\r\n$(document).ready(function () {\r\n\r\n    if (!window.localStorage.sessionId) {\r\n        return;\r\n    }\r\n\r\n    API.getUserInfo(\r\n        window.localStorage.sessionId,\r\n        function (data) {\r\n\r\n            if (data.code != 'SUCCESS' || !data.result) {\r\n                return;\r\n            }\r\n\r\n            $('#avatar').attr('src', data.result.avater || 'imgs/avatar.png');\r\n            $('#avatar').removeClass('hide');\r\n            $('#name').html(data.result.nickname);\r\n            $('#sex').addClass(data.result.gender == 1 ? 'icon-male' : (data.result.gender == 2 ? 'icon-female' : ''));\r\n            $('#practiceTime').html(data.result.record);\r\n            $('#duration').html(data.result.insistDay);\r\n        },\r\n        function (err) {\r\n\r\n        },\r\n        function (data) {\r\n\r\n        }\r\n    );\r\n\r\n\r\n});\r\n\r\n// 校验计时器状态\r\n// $(document).ready(function () {\r\n\r\n//     if (window.localStorage.sessionId && window.localStorage.timerFlag == 'true') {\r\n\r\n//         var hours = parseInt(window.localStorage.hours || 0);\r\n//         var minutes = parseInt(window.localStorage.minutes || 0);\r\n//         var seconds = parseInt(window.localStorage.seconds || 0);\r\n\r\n//         setInterval(function () {\r\n\r\n//             seconds++;\r\n\r\n//             if (seconds >= 60) {\r\n//                 seconds = 0;\r\n//                 minutes++;\r\n//             }\r\n\r\n//             if (minutes >= 60) {\r\n//                 minutes = 0;\r\n//                 hours++;\r\n//             }\r\n\r\n//             if (hours >= 24) {\r\n//                 hours = 0;\r\n//             }\r\n\r\n//             window.localStorage.hours = hours;\r\n//             window.localStorage.minutes = minutes;\r\n//             window.localStorage.seconds = seconds;\r\n\r\n//         }, 1000);\r\n\r\n//     }\r\n\r\n\r\n// });\r\n\r\n$(document).ready(function () {\r\n\r\n\r\n    var calendarWidth = $('.my-calendar').innerWidth();\r\n    var calendarHeight = calendarWidth * 0.87;\r\n\r\n    $('#calendar').calendar({\r\n        width: calendarWidth,\r\n        height: calendarHeight,\r\n        // data: [{\r\n        //     date: '2017/9/15',\r\n        //     value: '20分钟'\r\n        // }],\r\n        onSelected: function (view, date, data) {\r\n\r\n            if (!data) {\r\n                return;\r\n            }\r\n\r\n            weui.alert(data, {\r\n                className: 'dialog'\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n\r\n\r\n});"]}